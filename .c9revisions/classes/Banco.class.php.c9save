{"ts":1347889116263,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"﻿<?php\r\n\r\n/*\r\n * To change this template, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\n/**\r\n * Description of Banco\r\n *\r\n * @author Gabriel\r\n */\r\nclass Banco {\r\n\r\n    private static $instacia_banco;\r\n    private $servidor;\r\n    private $banco;\r\n    private $usuario;\r\n    private $senha;\r\n    private $conexao;\r\n\r\n    private function __construct() {\r\n        /*\r\n         * Caso seja no servido de Hospedagem ele vai deixar uma confg\r\n         * Caso seja localhost ele vai ter outra cfg\r\n         */\r\n        switch ($_SERVER['HTTP_HOST']):\r\n\t    case \"gabrielmatsuoka.co.cc\":\r\n                $this->servidor = \"localhost\";\r\n                $this->banco = \"gac\";\r\n                $this->usuario = \"root\";\r\n                $this->senha = \"gabr1241992iel\";\r\n                break;\r\n            default:\r\n                $this->servidor = \"localhost\";\r\n                $this->banco = \"gac\";\r\n                $this->usuario = \"root\";\r\n                $this->senha = \"\";\r\n        endswitch;\r\n        $this->conectarBanco();\r\n    }\r\n\r\n    public static function instanciarBanco() {\r\n        /* Forçamos a ter apenas uma instancia de Banco, logo temos apenas uma conexao aberta */\r\n        if (!isset(self::$instacia_banco)) {\r\n            self::$instacia_banco = new self;\r\n        }\r\n\r\n        return self::$instacia_banco;\r\n    }\r\n\r\n    private function conectarBanco() {\r\n        //Efetuando conexão ao banco\r\n        $this->conexao = mysql_connect($this->servidor, $this->usuario, $this->senha);\r\n\r\n        if ($this->conexao):\r\n            return true;\r\n        else:\r\n            return false;\r\n        endif;\r\n    }\r\n\r\n    private function selecionarBanco() {\r\n        //Selecionando Banco de dados\r\n        mysql_select_db($this->banco, $this->conexao) or die('Query failed: ' . mysql_error());\r\n    }\r\n\r\n    public function executarQuery($query) {\r\n        $this->selecionarBanco();\r\n        $executar = mysql_query($query) or die('Query failed: ' . mysql_error());\r\n\r\n        return $executar;\r\n    }\r\n\r\n    public function teveRetorno($query) {\r\n        //verifica se a query teve retorno maior doque 0 registros, caso tenha retorna true se não false.\r\n        if (mysql_num_rows($query) > 0)\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    public function getBanco() {\r\n        return $this->banco;\r\n    }\r\n    \r\n    public static function ultimoId(){\r\n        return mysql_insert_id();\r\n    }\r\n\r\n}\r\n\r\n?>\r\n"]],"start1":0,"start2":0,"length1":0,"length2":2477}]],"length":2477}
{"contributors":[],"silentsave":false,"ts":1347889000485,"patch":[[{"diffs":[[1,"<?php\r\n\r\n/*\r\n * To change this template, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\n\r\n/**\r\n * Description of Banco\r\n *\r\n * @author Gabriel\r\n */\r\nclass Banco {\r\n\r\n    private static $instacia_banco;\r\n    private $servidor;\r\n    private $banco;\r\n    private $usuario;\r\n    private $senha;\r\n    private $conexao;\r\n\r\n    private function __construct() {\r\n        /*\r\n         * Caso seja no servido de Hospedagem ele vai deixar uma confg\r\n         * Caso seja localhost ele vai ter outra cfg\r\n         */\r\n        switch ($_SERVER['HTTP_HOST']):\r\n        case \"gabrielmatsuoka.net\":\r\n                $this->servidor = \"localhost\";\r\n                $this->banco = \"gac\";\r\n                $this->usuario = \"root\";\r\n                $this->senha = \"gabr1241992iel\";\r\n                break;\r\n\t    case \"gabrielmatsuoka.co.cc\":\r\n                $this->servidor = \"localhost\";\r\n                $this->banco = \"gac\";\r\n                $this->usuario = \"root\";\r\n                $this->senha = \"gabr1241992iel\";\r\n                break;\r\n            default:\r\n                $this->servidor = \"localhost\";\r\n                $this->banco = \"gac\";\r\n                $this->usuario = \"root\";\r\n                $this->senha = \"\";\r\n        endswitch;\r\n        $this->conectarBanco();\r\n    }\r\n\r\n    public static function instanciarBanco() {\r\n        /* Forçamos a ter apenas uma instancia de Banco, logo temos apenas uma conexao aberta */\r\n        if (!isset(self::$instacia_banco)) {\r\n            self::$instacia_banco = new self;\r\n        }\r\n\r\n        return self::$instacia_banco;\r\n    }\r\n\r\n    private function conectarBanco() {\r\n        //Efetuando conexão ao banco\r\n        $this->conexao = mysql_connect($this->servidor, $this->usuario, $this->senha);\r\n\r\n        if ($this->conexao):\r\n            return true;\r\n        else:\r\n            return false;\r\n        endif;\r\n    }\r\n\r\n    private function selecionarBanco() {\r\n        //Selecionando Banco de dados\r\n        mysql_select_db($this->banco, $this->conexao) or die('Query failed: ' . mysql_error());\r\n    }\r\n\r\n    public function executarQuery($query) {\r\n        $this->selecionarBanco();\r\n        $executar = mysql_query($query) or die('Query failed: ' . mysql_error());\r\n\r\n        return $executar;\r\n    }\r\n\r\n    public function teveRetorno($query) {\r\n        //verifica se a query teve retorno maior doque 0 registros, caso tenha retorna true se não false.\r\n        if (mysql_num_rows($query) > 0)\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    public function getBanco() {\r\n        return $this->banco;\r\n    }\r\n    \r\n    public static function ultimoId(){\r\n        return mysql_insert_id();\r\n    }\r\n\r\n}\r\n\r\n?>\r\n"]],"start1":0,"start2":0,"length1":0,"length2":2716}]],"length":2716,"saved":false}
